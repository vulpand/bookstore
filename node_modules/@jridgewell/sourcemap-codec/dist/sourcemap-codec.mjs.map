{"version":3,"file":"sourcemap-codec.mjs","sources":["../src/vlq.ts","../src/scopes.ts","../src/sourcemap-codec.ts"],"sourcesContent":["const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\nconst intToChar = new Uint8Array(64); // 64 possible chars.\nconst charToInt = new Uint8Array(128); // z is 122 in ASCII\n\nfor (let i = 0; i < chars.length; i++) {\n  const c = chars.charCodeAt(i);\n  intToChar[i] = c;\n  charToInt[c] = i;\n}\n\nexport const comma = ','.charCodeAt(0);\nexport const semicolon = ';'.charCodeAt(0);\n\nexport function hasMoreVlq(mappings: string, i: number, length: number): boolean {\n  if (i >= length) return false;\n  return mappings.charCodeAt(i) !== comma;\n}\n\nexport function indexOf(mappings: string, char: string, index: number): number {\n  const idx = mappings.indexOf(char, index);\n  return idx === -1 ? mappings.length : idx;\n}\n\nexport let posOut = 0;\nexport function resetPos() {\n  posOut = 0;\n}\n\nexport function decodeFirstOctet(mappings: string, pos: number) {\n  const c = mappings.charCodeAt(pos);\n  let value = charToInt[c];\n  const shouldNegate = value & 1;\n  value >>>= 1;\n  if (shouldNegate) {\n    value = -0x80000000 | -value;\n  }\n  return value;\n}\n\nexport function decodeInteger(mappings: string, pos: number, relative: number): number {\n  let value = 0;\n  let shift = 0;\n  let integer = 0;\n\n  do {\n    const c = mappings.charCodeAt(pos++);\n    integer = charToInt[c];\n    value |= (integer & 31) << shift;\n    shift += 5;\n  } while (integer & 32);\n\n  const shouldNegate = value & 1;\n  value >>>= 1;\n\n  if (shouldNegate) {\n    value = -0x80000000 | -value;\n  }\n\n  posOut = pos;\n  return relative + value;\n}\n\nexport function encodeInteger(buf: Uint8Array, pos: number, num: number, relative: number): number {\n  let delta = num - relative;\n\n  delta = delta < 0 ? (-delta << 1) | 1 : delta << 1;\n  do {\n    let clamped = delta & 0b011111;\n    delta >>>= 5;\n    if (delta > 0) clamped |= 0b100000;\n    buf[pos++] = intToChar[clamped];\n  } while (delta > 0);\n\n  posOut = pos;\n  return num;\n}\n\nexport function maybeFlush(\n  build: string,\n  buf: Uint8Array,\n  pos: number,\n  copy: Uint8Array,\n  length: number,\n): string {\n  if (pos < length) {\n    posOut = pos;\n    return build;\n  }\n  const out = td.decode(buf);\n  copy.copyWithin(0, length, pos);\n  posOut = pos - length;\n  return build + out;\n}\n\nexport function write(buf: Uint8Array, pos: number, value: number) {\n  buf[pos] = value;\n  posOut = pos + 1;\n}\n\n// Provide a fallback for older environments.\nexport const td =\n  typeof TextDecoder !== 'undefined'\n    ? /* #__PURE__ */ new TextDecoder()\n    : typeof Buffer !== 'undefined'\n    ? {\n        decode(buf: Uint8Array) {\n          const out = Buffer.from(buf.buffer, buf.byteOffset, buf.byteLength);\n          return out.toString();\n        },\n      }\n    : {\n        decode(buf: Uint8Array) {\n          let out = '';\n          for (let i = 0; i < buf.length; i++) {\n            out += String.fromCharCode(buf[i]);\n          }\n          return out;\n        },\n      };\n","import {\n  comma,\n  decodeInteger,\n  encodeInteger,\n  hasMoreVlq,\n  indexOf,\n  maybeFlush,\n  posOut,\n  write,\n  td,\n  resetPos,\n  decodeFirstOctet,\n  semicolon,\n} from './vlq';\n\ntype Line = number;\ntype Column = number;\ntype Kind = number;\ntype Name = number;\ntype Var = number;\ntype SourcesIndex = number;\ntype ScopesIndex = number;\n\nexport type OriginalScope =\n  | {\n      0: Line;\n      1: Column;\n      2: Line;\n      3: Column;\n      4: Kind;\n      vars?: Var[];\n      length: 5;\n    }\n  | {\n      0: Line;\n      1: Column;\n      2: Line;\n      3: Column;\n      4: Kind;\n      5: Name;\n      vars?: Var[];\n      length: 6;\n    };\n\nconst NO_NAME = -1;\nconst NO_SOURCE = -1;\n\nexport function decodeOriginalScopes(input: string): OriginalScope[] {\n  let line = 0;\n  const scopes: OriginalScope[] = [];\n  const stack: OriginalScope[] = [];\n\n  for (let i = 0; i < input.length; i = posOut + 1) {\n    line = decodeInteger(input, i, line);\n    const column = decodeInteger(input, posOut, 0);\n\n    if (!hasMoreVlq(input, posOut, input.length)) {\n      const last = stack.pop()!;\n      last[2] = line;\n      last[3] = column;\n      continue;\n    }\n\n    const kind = decodeInteger(input, posOut, 0);\n    const fields = decodeInteger(input, posOut, 0);\n    const name = fields & 0b0001 ? decodeInteger(input, posOut, 0) : NO_NAME;\n    const scope: OriginalScope =\n      name === NO_NAME ? [line, column, 0, 0, kind] : [line, column, 0, 0, kind, name];\n    scopes.push(scope);\n    stack.push(scope);\n\n    const index = indexOf(input, ',', posOut);\n    if (posOut < index) {\n      const vars: Var[] = [];\n      scope.vars = vars;\n      while (posOut < index) {\n        const varsIndex = decodeInteger(input, posOut, 0);\n        vars.push(varsIndex);\n      }\n    }\n  }\n\n  return scopes;\n}\n\nexport function encodeOriginalScopes(scopes: OriginalScope[]): string {\n  let out = '';\n  if (scopes.length === 0) return out;\n\n  const bufLength = 1024 * 16;\n  const subLength = bufLength - (7 * 6 + 1);\n  const buf = new Uint8Array(bufLength);\n  const sub = buf.subarray(0, subLength);\n  resetPos();\n\n  const endStack: number[] = [];\n  let lastEndLine = scopes[0][2] + 1;\n  let lastEndColumn = scopes[0][3];\n  let line = 0;\n\n  for (let i = 0; i < scopes.length; i++) {\n    const scope = scopes[i];\n    const { 0: startLine, 1: startColumn, 2: endLine, 3: endColumn, 4: kind } = scope;\n    const name = scope.length === 6 ? scope[5] : NO_NAME;\n    const vars = 'vars' in scope ? scope.vars! : [];\n\n    out = maybeFlush(out, buf, posOut, buf, bufLength);\n    if (i > 0) write(buf, posOut, comma);\n\n    while (startLine > lastEndLine || (startLine === lastEndLine && startColumn >= lastEndColumn)) {\n      out = maybeFlush(out, sub, posOut, buf, subLength);\n\n      line = encodeInteger(buf, posOut, lastEndLine, line);\n      encodeInteger(buf, posOut, lastEndColumn, 0);\n      write(buf, posOut, comma);\n\n      lastEndColumn = endStack.pop()!;\n      lastEndLine = endStack.pop()!;\n    }\n\n    line = encodeInteger(buf, posOut, startLine, line);\n    encodeInteger(buf, posOut, startColumn, 0);\n    endStack.push(lastEndLine);\n    endStack.push(lastEndColumn);\n    lastEndLine = endLine;\n    lastEndColumn = endColumn;\n\n    encodeInteger(buf, posOut, kind, 0);\n\n    const fields = name === NO_NAME ? 0 : 1;\n    encodeInteger(buf, posOut, fields, 0);\n    if (name !== NO_NAME) encodeInteger(buf, posOut, name, 0);\n\n    for (const v of vars) {\n      out = maybeFlush(out, sub, posOut, buf, subLength);\n      encodeInteger(buf, posOut, v, 0);\n    }\n  }\n  while (endStack.length > 0) {\n    out = maybeFlush(out, sub, posOut, buf, subLength);\n\n    write(buf, posOut, comma);\n    line = encodeInteger(buf, posOut, lastEndLine, line);\n    encodeInteger(buf, posOut, lastEndColumn, 0);\n\n    lastEndColumn = endStack.pop()!;\n    lastEndLine = endStack.pop()!;\n  }\n\n  return out + td.decode(buf.subarray(0, posOut));\n}\n\n// type OptionalFields<T> = {\n// [K in keyof T]: K extends number ? T[K] : never;\n// } & {\n// [K in keyof T]: K extends string ? T[K] : never;\n// };\nexport type GeneratedRange = {\n  0: Line;\n  1: Column;\n  2: Line;\n  3: Column;\n  4: SourcesIndex;\n  5: ScopesIndex;\n  callsite?: CallSite;\n  bindings?: ExpressionBinding[][];\n  isScope?: boolean;\n};\nexport type CallSite = [SourcesIndex, Line, Column];\nexport type ExpressionBinding = [Name] | [Name, Line, Column];\n\nexport function decodeGeneratedRanges(input: string): GeneratedRange[] {\n  let genLine = 0;\n  let genColumn = 0;\n  let definitionSourcesIndex = 0;\n  let definitionScopeIndex = 0;\n  let callsiteSourcesIndex = 0;\n  let callsiteLine = 0;\n  let callsiteColumn = 0;\n  let bindingLine = 0;\n  let bindingColumn = 0;\n\n  const ranges: GeneratedRange[] = [];\n  const stack: GeneratedRange[] = [];\n  let index = 0;\n  do {\n    const semi = indexOf(input, ';', index);\n    genColumn = 0;\n\n    for (let i = index; i < semi; i = posOut + 1) {\n      genColumn = decodeInteger(input, i, genColumn);\n      if (hasMoreVlq(input, posOut, semi)) {\n        const fields = decodeInteger(input, posOut, 0);\n        let defSourcesIndex = NO_SOURCE;\n        let defScopeIndex = NO_SOURCE;\n\n        if (fields & 0b0001) {\n          defSourcesIndex = decodeInteger(input, posOut, definitionSourcesIndex);\n          if (definitionSourcesIndex !== defSourcesIndex) {\n            definitionScopeIndex = 0;\n            definitionSourcesIndex = defSourcesIndex;\n          }\n          defScopeIndex = definitionScopeIndex = decodeInteger(input, posOut, definitionScopeIndex);\n        }\n\n        const range: GeneratedRange = [genLine, genColumn, 0, 0, defSourcesIndex, defScopeIndex];\n\n        if (fields & 0b0010) {\n          const callSourcesIndex = decodeInteger(input, posOut, callsiteSourcesIndex);\n          const sameSource = callSourcesIndex === callsiteSourcesIndex;\n          const callLine = decodeInteger(input, posOut, sameSource ? callsiteLine : 0);\n          const sameLine = sameSource && callLine === callsiteLine;\n          callsiteColumn = decodeInteger(input, posOut, sameLine ? callsiteColumn : 0);\n\n          callsiteSourcesIndex = callSourcesIndex;\n          callsiteLine = callLine;\n          range.callsite = [callsiteSourcesIndex, callsiteLine, callsiteColumn];\n        }\n        if (fields & 0b0100) {\n          range.isScope = true;\n        }\n\n        if (hasMoreVlq(input, posOut, semi)) {\n          const bindings: ExpressionBinding[][] = [];\n          range.bindings = bindings;\n          do {\n            bindingLine = genLine;\n            bindingColumn = genColumn;\n            let name = decodeInteger(input, posOut, 0);\n            const hasExpressions = decodeFirstOctet(input, posOut);\n            const binding: ExpressionBinding[] = [[name]];\n            bindings.push(binding);\n            if (hasExpressions < -1) {\n              const expressionsCount = decodeInteger(input, posOut, 0);\n              for (let i = -1; i > expressionsCount; i--) {\n                const prevBindingLine = bindingLine;\n                bindingLine = decodeInteger(input, posOut, bindingLine);\n                bindingColumn = decodeInteger(\n                  input,\n                  posOut,\n                  bindingLine === prevBindingLine ? bindingColumn : 0,\n                );\n                name = decodeInteger(input, posOut, 0);\n              }\n              binding.push([name, bindingLine, bindingColumn] as ExpressionBinding);\n            }\n          } while (hasMoreVlq(input, posOut, semi));\n        }\n\n        ranges.push(range);\n        stack.push(range);\n      } else {\n        const range = stack.pop()!;\n        range[2] = genLine;\n        range[3] = genColumn;\n      }\n    }\n\n    genLine++;\n    index = semi + 1;\n  } while (index <= input.length);\n\n  return ranges;\n}\n\nexport function encodeGeneratedRanges(ranges: GeneratedRange[]): string {\n  let out = '';\n  if (ranges.length === 0) return out;\n\n  const bufLength = 1024 * 16;\n  const subLength = bufLength - (7 * 7 + 1);\n  const buf = new Uint8Array(bufLength);\n  const sub = buf.subarray(0, subLength);\n  resetPos();\n\n  const endStack: number[] = [];\n  let lastEndLine = ranges[0][2] + 1;\n  let lastEndColumn = ranges[0][3];\n  let line = 0;\n  let genColumn = 0;\n  let definitionSourcesIndex = 0;\n  let definitionScopeIndex = 0;\n  let callsiteSourcesIndex = 0;\n  let callsiteLine = 0;\n  let callsiteColumn = 0;\n  for (let i = 0; i < ranges.length; i++) {\n    const range = ranges[i];\n    const {\n      0: startLine,\n      1: startColumn,\n      2: endLine,\n      3: endColumn,\n      4: defSourcesIndex,\n      5: defScopeIndex,\n    } = range;\n    const isScope = 'isScope' in range && range.isScope;\n    const hasCallsite = 'callsite' in range;\n    const hasBindings = 'bindings' in range;\n\n    while (startLine > lastEndLine || (startLine === lastEndLine && startColumn >= lastEndColumn)) {\n      if (line < lastEndLine) {\n        out = catchupLine(out, buf, bufLength, line, lastEndLine);\n        line = lastEndLine;\n        genColumn = 0;\n      } else {\n        out = maybeFlush(out, buf, posOut, buf, bufLength);\n        write(buf, posOut, comma);\n      }\n      out = maybeFlush(out, sub, posOut, buf, subLength);\n      genColumn = encodeInteger(buf, posOut, lastEndColumn, genColumn);\n\n      lastEndColumn = endStack.pop()!;\n      lastEndLine = endStack.pop()!;\n    }\n    if (line < startLine) {\n      out = catchupLine(out, buf, bufLength, line, startLine);\n      line = startLine;\n      genColumn = 0;\n    } else if (i > 0) {\n      out = maybeFlush(out, buf, posOut, buf, bufLength);\n      write(buf, posOut, comma);\n    }\n\n    out = maybeFlush(out, sub, posOut, buf, subLength);\n    genColumn = encodeInteger(buf, posOut, range[1], genColumn);\n    endStack.push(lastEndLine);\n    endStack.push(lastEndColumn);\n    lastEndLine = endLine;\n    lastEndColumn = endColumn;\n\n    const fields =\n      (defSourcesIndex === NO_SOURCE ? 0 : 0b0001) |\n      (hasCallsite ? 0b0010 : 0) |\n      (isScope ? 0b0100 : 0);\n    encodeInteger(buf, posOut, fields, 0);\n\n    if (defSourcesIndex !== NO_SOURCE) {\n      if (defSourcesIndex !== definitionSourcesIndex) definitionScopeIndex = 0;\n      definitionSourcesIndex = encodeInteger(buf, posOut, defSourcesIndex, definitionSourcesIndex);\n      definitionScopeIndex = encodeInteger(buf, posOut, defScopeIndex, definitionScopeIndex);\n    }\n\n    if (hasCallsite) {\n      const { 0: callSourcesIndex, 1: callLine, 2: callColumn } = range.callsite!;\n      if (callSourcesIndex !== callsiteSourcesIndex) {\n        callsiteLine = 0;\n        callsiteColumn = 0;\n      } else if (callLine !== callsiteLine) {\n        callsiteColumn = 0;\n      }\n      callsiteSourcesIndex = encodeInteger(buf, posOut, callSourcesIndex, callsiteSourcesIndex);\n      callsiteLine = encodeInteger(buf, posOut, callLine, callsiteLine);\n      callsiteColumn = encodeInteger(buf, posOut, callColumn, callsiteColumn);\n    }\n\n    if (hasBindings) {\n      for (const binding of range.bindings!) {\n        out = maybeFlush(out, sub, posOut, buf, subLength);\n        encodeInteger(buf, posOut, binding[0][0], 0);\n        if (binding.length > 1) {\n          encodeInteger(buf, posOut, -binding.length, 0);\n          let bindingStartLine = startLine;\n          let bindingStartColumn = startColumn;\n          for (let i = 1; i < binding.length; i++) {\n            out = maybeFlush(out, sub, posOut, buf, subLength);\n            const expression = binding[i];\n            bindingStartLine = encodeInteger(buf, posOut, expression[1]!, bindingStartLine);\n            bindingStartColumn = encodeInteger(buf, posOut, expression[2]!, bindingStartColumn);\n            encodeInteger(buf, posOut, expression[0]!, 0);\n          }\n        }\n      }\n    }\n  }\n  while (endStack.length > 0) {\n    if (line < lastEndLine) {\n      out = catchupLine(out, buf, bufLength, line, lastEndLine);\n      line = lastEndLine;\n      genColumn = 0;\n    } else {\n      out = maybeFlush(out, buf, posOut, buf, bufLength);\n      write(buf, posOut, comma);\n    }\n    out = maybeFlush(out, sub, posOut, buf, subLength);\n    genColumn = encodeInteger(buf, posOut, lastEndColumn, genColumn);\n\n    lastEndColumn = endStack.pop()!;\n    lastEndLine = endStack.pop()!;\n  }\n\n  return out + td.decode(buf.subarray(0, posOut));\n}\n\nfunction catchupLine(\n  build: string,\n  buf: Uint8Array,\n  bufLength: number,\n  lastLine: number,\n  line: number,\n) {\n  do {\n    build = maybeFlush(build, buf, posOut, buf, bufLength);\n    write(buf, posOut, semicolon);\n  } while (++lastLine < line);\n  return build;\n}\n","import {\n  decodeInteger,\n  encodeInteger,\n  comma,\n  semicolon,\n  hasMoreVlq,\n  posOut,\n  indexOf,\n  td,\n  maybeFlush,\n  write,\n  resetPos,\n} from './vlq';\n\nexport {\n  decodeOriginalScopes,\n  encodeOriginalScopes,\n  decodeGeneratedRanges,\n  encodeGeneratedRanges,\n} from './scopes';\nexport type { OriginalScope, GeneratedRange, CallSite, ExpressionBinding } from './scopes';\n\nexport type SourceMapSegment =\n  | [number]\n  | [number, number, number, number]\n  | [number, number, number, number, number];\nexport type SourceMapLine = SourceMapSegment[];\nexport type SourceMapMappings = SourceMapLine[];\n\nexport function decode(mappings: string): SourceMapMappings {\n  const decoded: SourceMapMappings = [];\n  let genColumn = 0;\n  let sourcesIndex = 0;\n  let sourceLine = 0;\n  let sourceColumn = 0;\n  let namesIndex = 0;\n\n  let index = 0;\n  do {\n    const semi = indexOf(mappings, ';', index);\n    const line: SourceMapLine = [];\n    let sorted = true;\n    let lastCol = 0;\n    genColumn = 0;\n\n    for (let i = index; i < semi; i = posOut + 1) {\n      let seg: SourceMapSegment;\n\n      genColumn = decodeInteger(mappings, i, genColumn);\n      if (genColumn < lastCol) sorted = false;\n      lastCol = genColumn;\n\n      if (hasMoreVlq(mappings, posOut, semi)) {\n        sourcesIndex = decodeInteger(mappings, posOut, sourcesIndex);\n        sourceLine = decodeInteger(mappings, posOut, sourceLine);\n        sourceColumn = decodeInteger(mappings, posOut, sourceColumn);\n\n        if (hasMoreVlq(mappings, posOut, semi)) {\n          namesIndex = decodeInteger(mappings, posOut, namesIndex);\n          seg = [genColumn, sourcesIndex, sourceLine, sourceColumn, namesIndex];\n        } else {\n          seg = [genColumn, sourcesIndex, sourceLine, sourceColumn];\n        }\n      } else {\n        seg = [genColumn];\n      }\n\n      line.push(seg);\n    }\n\n    if (!sorted) sort(line);\n    decoded.push(line);\n    index = semi + 1;\n  } while (index <= mappings.length);\n\n  return decoded;\n}\n\nfunction sort(line: SourceMapSegment[]) {\n  line.sort(sortComparator);\n}\n\nfunction sortComparator(a: SourceMapSegment, b: SourceMapSegment): number {\n  return a[0] - b[0];\n}\n\nexport function encode(decoded: SourceMapMappings): string;\nexport function encode(decoded: Readonly<SourceMapMappings>): string;\nexport function encode(decoded: Readonly<SourceMapMappings>): string {\n  const bufLength = 1024 * 16;\n  // We can push up to 5 ints, each int can take at most 7 chars, and we\n  // may push a comma.\n  const subLength = bufLength - (7 * 5 + 1);\n  const buf = new Uint8Array(bufLength);\n  const sub = buf.subarray(0, subLength);\n  resetPos();\n  let out = '';\n  let genColumn = 0;\n  let sourcesIndex = 0;\n  let sourceLine = 0;\n  let sourceColumn = 0;\n  let namesIndex = 0;\n\n  for (let i = 0; i < decoded.length; i++) {\n    const line = decoded[i];\n    out = maybeFlush(out, buf, posOut, buf, bufLength);\n    if (i > 0) write(buf, posOut, semicolon);\n\n    if (line.length === 0) continue;\n\n    genColumn = 0;\n\n    for (let j = 0; j < line.length; j++) {\n      const segment = line[j];\n      out = maybeFlush(out, sub, posOut, buf, subLength);\n      if (j > 0) write(buf, posOut, comma);\n\n      genColumn = encodeInteger(buf, posOut, segment[0], genColumn);\n\n      if (segment.length === 1) continue;\n      sourcesIndex = encodeInteger(buf, posOut, segment[1], sourcesIndex);\n      sourceLine = encodeInteger(buf, posOut, segment[2], sourceLine);\n      sourceColumn = encodeInteger(buf, posOut, segment[3], sourceColumn);\n\n      if (segment.length === 4) continue;\n      namesIndex = encodeInteger(buf, posOut, segment[4], namesIndex);\n    }\n  }\n\n  return out + td.decode(buf.subarray(0, posOut));\n}\n"],"names":[],"mappings":"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"}